/*
 * jTabs - 
 * http://do-web.com/jtabs/overview
 *
 * Copyright 2011, Miriam Zusin
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://do-web.com/jtabs/license
 */ 
 (function(a){a.fn.jTabs=function(b){var b=a.extend({nav:"ul",tab:"div",effect:"",speedOpen:700,speedClose:500,hashchange:true},b);return this.each(function(){var e="slideDown",d=this,c=d;d.nav=a(d).find(b.nav);d.tabs=a(d).find(b.tab);d.lastAnchor="";d.nav.addClass("jtab-nav");d.tabs.addClass("jtab-tab");d.open=function(a){switch(b.effect){case"fade":a.fadeIn(b.speedOpen);break;case"fadeIn":a.fadeIn(b.speedOpen);break;case"slide":a.slideDown(b.speedOpen);break;case e:a.slideDown(b.speedOpen);break;default:a.show()}};d.makeEffect=function(a,d){if(a==undefined)c.open(d);else switch(b.effect){case"fade":a.fadeOut(b.speedClose,function(){c.open(d)});break;case"fadeIn":a.hide();c.open(d);break;case"slide":a.slideUp(b.speedClose,function(){c.open(d)});break;case e:a.hide();c.open(d);break;default:a.hide();d.show()}};d.display=function(a){if(!this.tabs.is(":animated ")){c.makeEffect(c.getTabByAnchor(c.lastAnchor),c.getTabByAnchor(a));c.set_active(a);c.lastAnchor=a}};d.getTabByAnchor=function(d){var b=c.tabs.eq(0);c.tabs.each(function(){if(a(this).hasClass(d.replace("#","")))b=a(this)});return b};d.set_active=function(d){var b="active";c.nav.find("li").removeClass(b);if(d.replace("#","")=="")c.nav.find("li:eq(0)").addClass(b);else c.nav.find("li").each(function(){a(this).find("a[href='#"+d.replace("#","")+"']").length>0&&a(this).addClass(b)})};if(b.hashchange){c.updateState=function(a){c.display(a)};a(window).hashchange(function(){c.updateState(location.hash)});c.tabs.hide();c.updateState(location.hash)}else{c.tabs.hide();c.display("");c.nav.find("a").unbind().click(function(){c.display(a(this).attr("href").replace("#",""));return false})}})}})(jQuery);